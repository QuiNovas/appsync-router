

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Welcome to appsync-router’s documentation! &mdash; appsync-router 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="#" class="icon icon-home"> appsync-router
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Welcome to appsync-router’s documentation!</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a><ul>
<li><a class="reference internal" href="#this-module-provides-a-framework-for-creating-a-backend-to-resolve-appsync-calls-in-aws-lambda">This module provides a framework for creating a backend to resolve Appsync calls in AWS Lambda.</a></li>
<li><a class="reference internal" href="#features">Features:</a></li>
<li><a class="reference internal" href="#how-it-works">How it works</a></li>
<li><a class="reference internal" href="#creating-routes">Creating routes</a></li>
<li><a class="reference internal" href="#function-signatures">Function signatures</a></li>
<li><a class="reference internal" href="#multiple-route-matching">Multiple Route matching</a></li>
<li><a class="reference internal" href="#the-event-property">The event property</a></li>
<li><a class="reference internal" href="#stashing-data">Stashing data</a></li>
</ul>
</li>
<li><a class="reference internal" href="#resolver-framework">Resolver framework</a><ul>
<li><a class="reference internal" href="#resolvers">resolvers</a></li>
<li><a class="reference internal" href="#creating-a-lambda-that-uses-the-resolvers-framework">Creating a lambda that uses the resolvers framework</a></li>
<li><a class="reference internal" href="#add-a-resolvers-package-without-creating-a-lambda-package">Add a resolvers package without creating a Lambda package</a></li>
</ul>
</li>
<li><a class="reference internal" href="#classes">Classes</a><ul>
<li><a class="reference internal" href="#the-router-class">The Router class</a></li>
<li><a class="reference internal" href="#route-types">Route types</a></li>
<li><a class="reference internal" href="#responses">Responses</a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-appsync_router.exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">appsync-router</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="#" class="icon icon-home"></a> &raquo;</li>
        
      <li>Welcome to appsync-router’s documentation!</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="welcome-to-appsync-router-s-documentation">
<h1>Welcome to appsync-router’s documentation!<a class="headerlink" href="#welcome-to-appsync-router-s-documentation" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
</div>
<div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="this-module-provides-a-framework-for-creating-a-backend-to-resolve-appsync-calls-in-aws-lambda">
<h2>This module provides a framework for creating a backend to resolve Appsync calls in AWS Lambda.<a class="headerlink" href="#this-module-provides-a-framework-for-creating-a-backend-to-resolve-appsync-calls-in-aws-lambda" title="Permalink to this headline">¶</a></h2>
<p>Full documentation is available <a class="reference external" href="https://quinovas.github.io/appsync-router">HERE</a></p>
</div>
<div class="section" id="features">
<h2>Features:<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Path based routing based on the Appsync parent type and field</p></li>
<li><p>Regex based path matching</p></li>
<li><p>Path matching using Unix-like glob patters</p></li>
<li><p>Resolving by “First match wins” or returning the results of multiple matching routes</p></li>
<li><p>Any callable can be used to handle a route</p></li>
<li><p>Tools for generating a project skeleton and testing resolvers</p></li>
<li><p>The ability to chain resolvers by passing the result of one as the input to the next</p></li>
</ul>
</div>
<div class="section" id="how-it-works">
<h2>How it works<a class="headerlink" href="#how-it-works" title="Permalink to this headline">¶</a></h2>
<p>Routes are resolved by matching a <em>path</em> to a callable (function, lambda, class, etc). Paths are represented as:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">path</span> <span class="o">=</span> <span class="sa">f</span><span class="s1">&#39;</span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s2">&quot;info&quot;</span><span class="p">][</span><span class="s2">&quot;parentTypeName&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">.</span><span class="si">{</span><span class="n">event</span><span class="p">[</span><span class="s2">&quot;info&quot;</span><span class="p">][</span><span class="s2">&quot;fieldName&quot;</span><span class="p">]</span><span class="si">}</span><span class="s1">&#39;</span>
</pre></div>
</div>
<p>with <em>event</em> being the event argument passed to Lambda. To create a function that will resolve to a specific path we can
decorate it, creating a Route. Here are the available types of Routes:</p>
<ul class="simple">
<li><p>NamedRoute: Matches the exact path. There can only be one NamedRoute in a Router per specific path</p></li>
<li><p>MatchedRoute: Uses a regular expression to match a path. The expression provided can be either a string or an instance of re.Pattern</p></li>
<li><p>GlobbedRoute: Matches routes using Unix-like file globbing patters</p></li>
<li><p>DefaultRoute: There can only be one DefaultRoute in a router. Attempting to register a second will raise an exception</p></li>
</ul>
</div>
<div class="section" id="creating-routes">
<h2>Creating routes<a class="headerlink" href="#creating-routes" title="Permalink to this headline">¶</a></h2>
<p>There are two ways to build a Router. The easiest is to use decorators. Here is an example of creating a NamedRoute using a decorator.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">appsync_router</span> <span class="kn">import</span> <span class="n">Route</span>
<span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">()</span>

<span class="nd">@router</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;Query.GetFoo&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_foo</span><span class="p">():</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello Foo!!!)</span>
   <span class="k">return</span> <span class="n">event</span>
</pre></div>
</div>
<p>The second way is to manually add a route.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">appsync_router</span> <span class="kn">import</span> <span class="n">Router</span><span class="p">,</span> <span class="n">NamedRoute</span>

<span class="k">def</span> <span class="nf">get_foo</span><span class="p">(</span><span class="n">foo</span><span class="p">,</span> <span class="n">bar</span><span class="p">,</span> <span class="n">baz</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello Foo!!!)</span>
   <span class="k">return</span> <span class="n">router</span><span class="o">.</span><span class="n">event</span>

<span class="n">router</span> <span class="o">=</span> <span class="n">Router</span><span class="p">()</span>
<span class="n">my_route</span> <span class="o">=</span> <span class="n">NamedRoute</span><span class="p">(</span><span class="s2">&quot;Query.GetFoo&quot;</span><span class="p">,</span> <span class="n">get_foo</span><span class="p">)</span>
<span class="n">router</span><span class="o">.</span><span class="n">add_route</span><span class="p">(</span><span class="n">my_route</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="function-signatures">
<h2>Function signatures<a class="headerlink" href="#function-signatures" title="Permalink to this headline">¶</a></h2>
<p>You may have noticed that when using the decorator our function signature took no arguments. This is because we are accessing the event via <code class="docutils literal notranslate"><span class="pre">router.event</span></code>.
You can define your functions to take any number of arguments as long as those arguments allow for their value to be <code class="docutils literal notranslate"><span class="pre">None</span></code>. When a route is handled by
<code class="docutils literal notranslate"><span class="pre">resolve()</span></code> or <code class="docutils literal notranslate"><span class="pre">resolve_all()</span></code> then when the function is called the arguments will be handled as follows:</p>
<ul class="simple">
<li><p>All positional arguments will be passed <code class="docutils literal notranslate"><span class="pre">None</span></code> as their value the router</p></li>
<li><p>No keyword args will be passed</p></li>
</ul>
<p>This allows for reusing functions so you can register them as a route or call them directly from somewhere else using whatever signature you prefer.</p>
</div>
<div class="section" id="multiple-route-matching">
<h2>Multiple Route matching<a class="headerlink" href="#multiple-route-matching" title="Permalink to this headline">¶</a></h2>
<p>Calling <code class="docutils literal notranslate"><span class="pre">Router.resolve_all()</span></code> will call every route that matches the event’s path. Results from each function that is called is appended to
<code class="docutils literal notranslate"><span class="pre">Router().prev</span></code> so you can access the results from any route that is called in subsequent routes.</p>
</div>
<div class="section" id="the-event-property">
<h2>The event property<a class="headerlink" href="#the-event-property" title="Permalink to this headline">¶</a></h2>
<p>The event is passed to the Router() object by a call to either <code class="docutils literal notranslate"><span class="pre">Router().init(event)</span></code> or by passing the event as an argument to <code class="docutils literal notranslate"><span class="pre">Router().resolve()</span></code>
or <code class="docutils literal notranslate"><span class="pre">Router().resolve_all()</span></code>. The Router().event is immutable once set, which guarantees that what was originally passed stays intact. You can use the
<code class="docutils literal notranslate"><span class="pre">Router().stash</span></code> property to pass arbitrary data between function calls if necessary. Once <code class="docutils literal notranslate"><span class="pre">Router().event</span></code> is set the event is accessible from anywhere
that has access to the <code class="docutils literal notranslate"><span class="pre">Router()</span></code> object.</p>
</div>
<div class="section" id="stashing-data">
<h2>Stashing data<a class="headerlink" href="#stashing-data" title="Permalink to this headline">¶</a></h2>
<p>You can store arbitrary data as in <code class="docutils literal notranslate"><span class="pre">Router().stash</span></code>. The stash can be treated as a <code class="docutils literal notranslate"><span class="pre">dict</span></code> and can be accessed anywhere that the <code class="docutils literal notranslate"><span class="pre">Router()</span></code> object is accessible.</p>
</div>
</div>
<div class="section" id="resolver-framework">
<h1>Resolver framework<a class="headerlink" href="#resolver-framework" title="Permalink to this headline">¶</a></h1>
<p>The module installs a console script into <code class="docutils literal notranslate"><span class="pre">$PATH</span></code> that can be used to:</p>
<ul class="simple">
<li><p>Create a resolver based app skeleton</p></li>
<li><p>Generate a Lambda function using lambda_setup_tools package (must be installed separately)</p></li>
<li><p>Test routes/Lambda function by passing an event or event file</p></li>
<li><p>Generate a new <code class="docutils literal notranslate"><span class="pre">resolver</span></code></p></li>
</ul>
<div class="section" id="resolvers">
<h2>resolvers<a class="headerlink" href="#resolvers" title="Permalink to this headline">¶</a></h2>
<p>A resolver package is a module that is placed in your script’s working directory. The module consists of <code class="docutils literal notranslate"><span class="pre">resolvers</span></code>, which are your scripts that contain
decorated functions to create routes and an import of <code class="docutils literal notranslate"><span class="pre">appsync_router.resolver.router</span></code>. When using the resolver framework your main script imports <code class="docutils literal notranslate"><span class="pre">resolvers</span></code>,
which will be a local import of the resolvers directory in the main script’s directory. Here is an example of the directory structure:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">my_lambda</span><span class="o">.</span><span class="n">py</span>
<span class="o">/</span><span class="n">resolvers</span>
   <span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>
   <span class="n">config</span><span class="o">.</span><span class="n">json</span>
   <span class="n">first_resolver</span><span class="o">.</span><span class="n">py</span>
   <span class="n">another_resolver</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Example of first_resolver.py:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">appsync_router.resolver</span> <span class="kn">import</span> <span class="n">router</span>

<span class="nd">@router</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="s2">&quot;Query.GetFoo&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_foo</span><span class="p">():</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Here is Foo!!!!!&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Your lambda would then import <code class="docutils literal notranslate"><span class="pre">resolvers.router</span></code>. Here is an example lambda that uses the above resolver package:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">resolvers</span> <span class="kn">import</span> <span class="n">router</span>

<span class="n">event</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parentTypeName&quot;</span><span class="p">:</span> <span class="s2">&quot;Query&quot;</span><span class="p">,</span> <span class="s2">&quot;fieldName&quot;</span><span class="p">:</span> <span class="s2">&quot;GetFoo&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
   <span class="n">router</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

<span class="c1"># Prints &quot;Here is Foo!!!!!&quot;</span>
</pre></div>
</div>
<p>Here is what happens in the example:</p>
<ul class="simple">
<li><p>first_resolver.py imports the router object from __init__.py using <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">appsync_router.resolver</span> <span class="pre">import</span> <span class="pre">router</span></code></p></li>
<li><p>All routes in first_resolver.py are added to the <code class="docutils literal notranslate"><span class="pre">route</span></code> object</p></li>
<li><p>If there are any other files in <code class="docutils literal notranslate"><span class="pre">resolvers</span></code> their routes are also added to a new <code class="docutils literal notranslate"><span class="pre">route</span></code> object</p></li>
<li><p>my_lambda.py imports the <code class="docutils literal notranslate"><span class="pre">resolvers.route</span></code> object, which contains a new route object containing all routes from resolvers merged together</p></li>
<li><p>The route object imported into my_lambda.py takes its arguments from resolvers/config.json</p></li>
<li><p>Executing lambda.handler() in my_lambda.py gets the routes registered from the resolvers package and resolves the route, calling <code class="docutils literal notranslate"><span class="pre">get_foo()</span></code></p></li>
</ul>
</div>
<div class="section" id="creating-a-lambda-that-uses-the-resolvers-framework">
<h2>Creating a lambda that uses the resolvers framework<a class="headerlink" href="#creating-a-lambda-that-uses-the-resolvers-framework" title="Permalink to this headline">¶</a></h2>
<p>First create a skeleton using the console script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">appsync</span><span class="o">-</span><span class="n">router</span> <span class="n">make</span><span class="o">-</span><span class="n">app</span> <span class="o">--</span><span class="n">app</span><span class="o">-</span><span class="nb">dir</span> <span class="o">.</span>

   <span class="n">App</span> <span class="n">created</span><span class="o">.</span> <span class="n">You</span> <span class="n">can</span> <span class="n">test</span> <span class="n">your</span> <span class="n">app</span> <span class="n">by</span> <span class="n">running</span><span class="p">:</span>
      <span class="n">appsync</span><span class="o">-</span><span class="n">router</span> <span class="n">execute</span> <span class="o">--</span><span class="n">event</span><span class="o">-</span><span class="n">file</span> <span class="n">example</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">pprint</span>
   <span class="n">Or</span> <span class="n">add</span> <span class="n">a</span> <span class="n">new</span> <span class="n">resolver</span> <span class="k">with</span><span class="p">:</span>
      <span class="n">appsync</span><span class="o">-</span><span class="n">router</span> <span class="n">add</span><span class="o">-</span><span class="n">resolver</span> <span class="o">--</span><span class="n">resolver</span><span class="o">-</span><span class="n">name</span> <span class="o">&lt;</span><span class="n">new</span> <span class="n">name</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Now add a resolver:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span><span class="n">appsync</span><span class="o">-</span><span class="n">router</span> <span class="n">add</span><span class="o">-</span><span class="n">resolver</span> <span class="o">--</span><span class="n">resolver</span><span class="o">-</span><span class="n">name</span> <span class="n">foo</span>
<span class="o">&gt;</span><span class="n">rm</span> <span class="o">-</span><span class="n">f</span> <span class="n">resolvers</span><span class="o">/</span><span class="n">example</span><span class="o">.</span><span class="n">py</span> <span class="c1">#remove the example</span>
<span class="o">&gt;</span><span class="n">ls</span> <span class="n">resolvers</span>
<span class="fm">__init__</span><span class="o">.</span><span class="n">py</span>  <span class="n">config</span><span class="o">.</span><span class="n">json</span>  <span class="n">foo</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>Edit resolvers/foo.py to contain the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">appsync_router.resolver</span> <span class="kn">import</span> <span class="n">router</span>


<span class="nd">@router</span><span class="o">.</span><span class="n">route</span><span class="p">(</span><span class="n">path</span><span class="o">=</span><span class="s2">&quot;Query.GetFoo&quot;</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">get_foo</span><span class="p">():</span>
   <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Called GetFoo!!!!!&quot;</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">router</span><span class="o">.</span><span class="n">event</span>
</pre></div>
</div>
<p>Test your resolver using the script:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt;appsync-router execute-lambda --event &#39;{&quot;info&quot;: {&quot;parentTypeName&quot;: &quot;Query&quot;, &quot;fieldName&quot;: &quot;GetFoo&quot;}}&#39;
Hello Foo!!!!!
[
   {
      &quot;route&quot;: {
            &quot;path&quot;: &quot;Query.GetFoo&quot;,
            &quot;callable&quot;: &quot;get_foo&quot;,
            &quot;type&quot;: &quot;named_route&quot;,
            &quot;resolver&quot;: &quot;resolvers.foo&quot;
      },
      &quot;value&quot;: {
            &quot;info&quot;: {
               &quot;parentTypeName&quot;: &quot;Query&quot;,
               &quot;fieldName&quot;: &quot;GetFoo&quot;
            }
      }
   }
]
</pre></div>
</div>
<p>To test from your own script, create a file that contains the following:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">resolvers</span> <span class="kn">import</span> <span class="n">router</span>

<span class="k">def</span> <span class="nf">handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
   <span class="n">res</span> <span class="o">=</span> <span class="n">router</span><span class="o">.</span><span class="n">resolve</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>
   <span class="nb">print</span><span class="p">(</span><span class="n">res</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>


<span class="n">event</span> <span class="o">=</span> <span class="p">{</span>
   <span class="s2">&quot;info&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;parentTypeName&quot;</span><span class="p">:</span> <span class="s2">&quot;Query&quot;</span><span class="p">,</span> <span class="s2">&quot;fieldName&quot;</span><span class="p">:</span> <span class="s2">&quot;GetFoo&quot;</span><span class="p">}</span>
<span class="p">}</span>

<span class="n">handler</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
<p>And execute with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt; python3.8 my_lambda.py
Hello Foo!!!!!
[{&#39;info&#39;: {&#39;parentTypeName&#39;: &#39;Query&#39;, &#39;fieldName&#39;: &#39;GetFoo&#39;}}]
</pre></div>
</div>
</div>
<div class="section" id="add-a-resolvers-package-without-creating-a-lambda-package">
<h2>Add a resolvers package without creating a Lambda package<a class="headerlink" href="#add-a-resolvers-package-without-creating-a-lambda-package" title="Permalink to this headline">¶</a></h2>
<p>Passing <code class="docutils literal notranslate"><span class="pre">--no-lambda</span></code> to <code class="docutils literal notranslate"><span class="pre">appsync-router</span> <span class="pre">make-app</span></code> will create a resolvers package in the current working directory without creating the full Lambda skeleton</p>
<p>You can also execute a route directly by calling <code class="docutils literal notranslate"><span class="pre">appsync-router</span> <span class="pre">execute-resolver</span> <span class="pre">--event</span></code>. This passes the event directly to the route’s callable instead of the handler of a Lambda</p>
</div>
</div>
<div class="section" id="classes">
<h1>Classes<a class="headerlink" href="#classes" title="Permalink to this headline">¶</a></h1>
<div class="section" id="the-router-class">
<h2>The Router class<a class="headerlink" href="#the-router-class" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="appsync_router.Router">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">Router</span></code><a class="headerlink" href="#appsync_router.Router" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates routes from Appsync paths, expressed as <em>&lt;event[“info”][“parentTypeName”]&gt;.&lt;event[“info”][“fieldName”]&gt;</em>,
to callables specied by supplied decorators or explicit calls to appsync_router.Router.add_route()</p>
<dl class="py method">
<dt id="appsync_router.Router.add_route">
<code class="sig-name descname"><span class="pre">add_route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">appsync_router.types.Route</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">appsync_router.types.Route</span><a class="headerlink" href="#appsync_router.Router.add_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a route</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>route</em>: (<code class="docutils literal notranslate"><span class="pre">Route</span></code>): An instance of NamedRoute, MatchedRoute or GlobbedRoute to register</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">appsync_router.Route</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.all_routes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">all_routes</span></code><a class="headerlink" href="#appsync_router.Router.all_routes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a list containing all registered routes</dt><dd><dl class="field-list simple">
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.arguments">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">arguments</span></code><a class="headerlink" href="#appsync_router.Router.arguments" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“arguments”]</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.current_callable">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">current_callable</span></code><a class="headerlink" href="#appsync_router.Router.current_callable" title="Permalink to this definition">¶</a></dt>
<dd><p>The name of the current callable being called in the route.</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.default">
<code class="sig-name descname"><span class="pre">default</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><a class="headerlink" href="#appsync_router.Router.default" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a decorator to set <code class="docutils literal notranslate"><span class="pre">self.default_route</span></code>. If <code class="docutils literal notranslate"><span class="pre">self.default_route</span></code> is set.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">Callable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Router.default_route">
<code class="sig-name descname"><span class="pre">default_route</span></code><a class="headerlink" href="#appsync_router.Router.default_route" title="Permalink to this definition">¶</a></dt>
<dd><p>An instance of <code class="docutils literal notranslate"><span class="pre">appsync_router.Route</span></code> that will be used when the path is not resolved by any other route</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.event">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">event</span></code><a class="headerlink" href="#appsync_router.Router.event" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the event passed to resolve() or resolve_all()</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.field_name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">field_name</span></code><a class="headerlink" href="#appsync_router.Router.field_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“info”][“fieldName”]</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.get_routes">
<code class="sig-name descname"><span class="pre">get_routes</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_default</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">appsync_router.types.Route</span><span class="p"><span class="pre">,</span> </span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#appsync_router.Router.get_routes" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all registered routes that match <em>path</em></p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>path:</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): The path to check routes against</p></li>
</ul>
</dd>
<dt class="field-even">Keyword Arguments</dt>
<dd class="field-even"><ul class="simple">
<li><p><em>include_default:</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) - If True will return self.default_route, if one is registered</p></li>
<li><p><em>to_dict:</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>) - Return routes as a list of dicts instead of objects</p></li>
</ul>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.globbed_route">
<code class="sig-name descname"><span class="pre">globbed_route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">glob</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><a class="headerlink" href="#appsync_router.Router.globbed_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a decorator to register an appsync_router.GlobbedRoute</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>glob:</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): A Unix-style glob pattern to match routes against</p></li>
<li><p><em>priority:</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): An optional priority to set on the route. See the section on priorities for more</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Callable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.globbed_routes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">globbed_routes</span></code><a class="headerlink" href="#appsync_router.Router.globbed_routes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a list containing all routes of type appsync_router.GlobbedRoute</dt><dd><dl class="field-list simple">
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.identity">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">identity</span></code><a class="headerlink" href="#appsync_router.Router.identity" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“identity”]</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.info">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">info</span></code><a class="headerlink" href="#appsync_router.Router.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“info”]</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.matched_route">
<code class="sig-name descname"><span class="pre">matched_route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">re.Pattern</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><a class="headerlink" href="#appsync_router.Router.matched_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a decorator to register an appsync_router.MatchedRoute</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>regex:</em> (<code class="docutils literal notranslate"><span class="pre">str|re.Pattern</span></code>): A regex string pattern or instance of re.Pattern to match routes against</p></li>
<li><p><em>priority:</em> (<code class="docutils literal notranslate"><span class="pre">int</span></code>): An optional priority to set on the route. See the section on priorities for more</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Callable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.matched_routes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">matched_routes</span></code><a class="headerlink" href="#appsync_router.Router.matched_routes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a list containing all routes of type appsync_router.MatchedRoute</dt><dd><dl class="field-list simple">
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.named_routes">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">named_routes</span></code><a class="headerlink" href="#appsync_router.Router.named_routes" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Returns a list containing all routes of type appsync_router.NamedRoute</dt><dd><dl class="field-list simple">
<dt class="field-odd">returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.parent_type_name">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">parent_type_name</span></code><a class="headerlink" href="#appsync_router.Router.parent_type_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“info”][“parentTypeName”]</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.path">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">path</span></code><a class="headerlink" href="#appsync_router.Router.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The current matched path being called</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.prev">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">prev</span></code><a class="headerlink" href="#appsync_router.Router.prev" title="Permalink to this definition">¶</a></dt>
<dd><p>When resolve() is called this is set to the value returned by the callable.
For resolve_all() it is a list of returned values in the order they were returned.</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.registered_paths">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">registered_paths</span></code><a class="headerlink" href="#appsync_router.Router.registered_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing all registered paths</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><code class="docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.remove_route">
<code class="sig-name descname"><span class="pre">remove_route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">appsync_router.types.Route</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">appsync_router.types.Route</span><a class="headerlink" href="#appsync_router.Router.remove_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes a route</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>route:</em> (<code class="docutils literal notranslate"><span class="pre">Route</span></code>): An instance of appsync_tools.Route</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">appsync_router.Route</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.resolve">
<code class="sig-name descname"><span class="pre">resolve</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">appsync_router.types.Item</span><a class="headerlink" href="#appsync_router.Router.resolve" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up the route for a call based on the parentTypeName and fieldName in event[“info”]. If <code class="docutils literal notranslate"><span class="pre">self.chain</span></code> is True then the first route will be passed <code class="docutils literal notranslate"><span class="pre">event</span></code>
and any subsequent matches will be passed the result of the prior route. If the path doesn’t match a registered route and <code class="docutils literal notranslate"><span class="pre">self.default_route</span></code> is None, then
<code class="docutils literal notranslate"><span class="pre">appsync_tools.exceptions.NonExistentRoute</span></code> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>event:</em> An event that matches the format passed to Lambda from an appsync call. The event arg must, at minimum, contain the info Dict that Appsync places inside of the Lambda event.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">appsync_router.Item</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.resolve_all">
<code class="sig-name descname"><span class="pre">resolve_all</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">event</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">dict</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">appsync_router.types.Response</span><a class="headerlink" href="#appsync_router.Router.resolve_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Looks up the route for a call based on the parentTypeName and fieldName in event[“info”]. If <code class="docutils literal notranslate"><span class="pre">chain</span></code> is True then the first route will be passed <code class="docutils literal notranslate"><span class="pre">event</span></code>
and any subsequent matches will be passed the result of the prior route. If the path doesn’t match a registered route and <code class="docutils literal notranslate"><span class="pre">self.default_route</span></code> is None, then
<code class="docutils literal notranslate"><span class="pre">appsync_tools.exceptions.NonExistentRoute</span></code> will be raised.</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>event:</em> (<code class="docutils literal notranslate"><span class="pre">dict</span></code>) - An event that matches the format passed to Lambda from Appsync. The event arg must, at minimum, contain the info Dict that Appsync places inside event.</p></li>
<li><p><em>chain:</em> (<code class="docutils literal notranslate"><span class="pre">bool</span></code>): If True then as then the first resolved route will accept <code class="docutils literal notranslate"><span class="pre">event</span></code> whith each subsequent matched route being passed the result of the prior</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">appsync_router.Response</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.route">
<code class="sig-name descname"><span class="pre">route</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">Callable</span><a class="headerlink" href="#appsync_router.Router.route" title="Permalink to this definition">¶</a></dt>
<dd><p>Used as a decorator to register a function as an appsync_router.NamedRoute</p>
<dl class="field-list simple">
<dt class="field-odd">Keyword Arguments</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>path:</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): An appsync path expressed as <code class="docutils literal notranslate"><span class="pre">&lt;parent</span> <span class="pre">type</span> <span class="pre">name&gt;.&lt;field</span> <span class="pre">name&gt;</span></code></p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">Callable</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.source">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">source</span></code><a class="headerlink" href="#appsync_router.Router.source" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as event[“source”]</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Router.stash">
<code class="sig-name descname"><span class="pre">stash</span></code><a class="headerlink" href="#appsync_router.Router.stash" title="Permalink to this definition">¶</a></dt>
<dd><p>Can be used to stash data between routes as they are called</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Router.validate_path">
<code class="sig-name descname"><span class="pre">validate_path</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> &#x2192; <span class="pre">str</span><a class="headerlink" href="#appsync_router.Router.validate_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Raises an exception if a path is invalid or already exists</p>
<dl class="field-list simple">
<dt class="field-odd">Params</dt>
<dd class="field-odd"><ul class="simple">
<li><p><em>path:</em> (<code class="docutils literal notranslate"><span class="pre">str</span></code>): An Appsync path</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">str</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="route-types">
<h2>Route types<a class="headerlink" href="#route-types" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="appsync_router.Item">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">Item</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">route</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">appsync_router.types.Route</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.Item" title="Permalink to this definition">¶</a></dt>
<dd><p>An object containing the response from a Route’s callable and information about the Route</p>
<dl class="py attribute">
<dt id="appsync_router.Item.resolver">
<code class="sig-name descname"><span class="pre">resolver</span></code><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#appsync_router.Item.resolver" title="Permalink to this definition">¶</a></dt>
<dd><p>The module that this resolver’s callable belongs to</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Item.route">
<code class="sig-name descname"><span class="pre">route</span></code><em class="property"><span class="pre">:</span> <span class="pre">str</span></em><a class="headerlink" href="#appsync_router.Item.route" title="Permalink to this definition">¶</a></dt>
<dd><p>The Route that matched the path passed to appsync_router.Router.resolve</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Item.value">
<code class="sig-name descname"><span class="pre">value</span></code><em class="property"><span class="pre">:</span> <span class="pre">Any</span></em><a class="headerlink" href="#appsync_router.Item.value" title="Permalink to this definition">¶</a></dt>
<dd><p>The value returned by the callable for self.route</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="appsync_router.NamedRoute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">NamedRoute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.NamedRoute" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="appsync_router.NamedRoute.callable">
<code class="sig-name descname"><span class="pre">callable</span></code><a class="headerlink" href="#appsync_router.NamedRoute.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>Callable registered to this path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.NamedRoute.path">
<code class="sig-name descname"><span class="pre">path</span></code><a class="headerlink" href="#appsync_router.NamedRoute.path" title="Permalink to this definition">¶</a></dt>
<dd><p>Path to resolve</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.NamedRoute.resolver">
<code class="sig-name descname"><span class="pre">resolver</span></code><a class="headerlink" href="#appsync_router.NamedRoute.resolver" title="Permalink to this definition">¶</a></dt>
<dd><p>The module name that self.callable is part of</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.NamedRoute.to_dict">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">to_dict</span></code><a class="headerlink" href="#appsync_router.NamedRoute.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts all available properties to items in a dictionary</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.NamedRoute.type">
<code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#appsync_router.NamedRoute.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Describes the type of Route</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="appsync_router.MatchedRoute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">MatchedRoute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regex</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span> </span><span class="pre">re.Pattern</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.MatchedRoute" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="appsync_router.MatchedRoute.callable">
<code class="sig-name descname"><span class="pre">callable</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>The callable registered to this path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.MatchedRoute.priority">
<code class="sig-name descname"><span class="pre">priority</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The priority (order) this Route will be in when multiple routes match a path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.MatchedRoute.regex">
<code class="sig-name descname"><span class="pre">regex</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.regex" title="Permalink to this definition">¶</a></dt>
<dd><p>The regex used to match a path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.MatchedRoute.resolver">
<code class="sig-name descname"><span class="pre">resolver</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.resolver" title="Permalink to this definition">¶</a></dt>
<dd><p>The module name that self.callable is part of</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.MatchedRoute.to_dict">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">to_dict</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts all available properties to items in a dictionary</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.MatchedRoute.type">
<code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#appsync_router.MatchedRoute.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Description of the type of Route</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="appsync_router.GlobbedRoute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">GlobbedRoute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">glob</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.GlobbedRoute" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="appsync_router.GlobbedRoute.callable">
<code class="sig-name descname"><span class="pre">callable</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>The callable registered to this path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.GlobbedRoute.glob">
<code class="sig-name descname"><span class="pre">glob</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.glob" title="Permalink to this definition">¶</a></dt>
<dd><p>A Unix-style glob pattern for patching paths</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.GlobbedRoute.priority">
<code class="sig-name descname"><span class="pre">priority</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.priority" title="Permalink to this definition">¶</a></dt>
<dd><p>The priority (order) this Route will be in when multiple routes match a path</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.GlobbedRoute.resolver">
<code class="sig-name descname"><span class="pre">resolver</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.resolver" title="Permalink to this definition">¶</a></dt>
<dd><p>The module name that self.callable is part of</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.GlobbedRoute.to_dict">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">to_dict</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts all available properties to items in a dictionary</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.GlobbedRoute.type">
<code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#appsync_router.GlobbedRoute.type" title="Permalink to this definition">¶</a></dt>
<dd><p>Description of the type of Route</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="appsync_router.DefaultRoute">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">DefaultRoute</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">Callable</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.DefaultRoute" title="Permalink to this definition">¶</a></dt>
<dd><dl class="py attribute">
<dt id="appsync_router.DefaultRoute.callable">
<code class="sig-name descname"><span class="pre">callable</span></code><a class="headerlink" href="#appsync_router.DefaultRoute.callable" title="Permalink to this definition">¶</a></dt>
<dd><p>The callable registered for the default_route</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.DefaultRoute.resolver">
<code class="sig-name descname"><span class="pre">resolver</span></code><a class="headerlink" href="#appsync_router.DefaultRoute.resolver" title="Permalink to this definition">¶</a></dt>
<dd><p>The module name that self.callable is part of</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.DefaultRoute.to_dict">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">to_dict</span></code><a class="headerlink" href="#appsync_router.DefaultRoute.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Casts all available properties to items in a dictionary</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.DefaultRoute.type">
<code class="sig-name descname"><span class="pre">type</span></code><a class="headerlink" href="#appsync_router.DefaultRoute.type" title="Permalink to this definition">¶</a></dt>
<dd><p>A description of the Route type</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="responses">
<h2>Responses<a class="headerlink" href="#responses" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="appsync_router.Response">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.</span></code><code class="sig-name descname"><span class="pre">Response</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chained</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">bool</span></span> <span class="o"><span class="pre">=</span></span> <span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.Response" title="Permalink to this definition">¶</a></dt>
<dd><p>An object containing a list of appsync_router.types.Item</p>
<dl class="py method">
<dt id="appsync_router.Response.add_item">
<code class="sig-name descname"><span class="pre">add_item</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">item</span></span><span class="p"><span class="pre">:</span></span> <span class="n"><span class="pre">appsync_router.types.Item</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.Response.add_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an <strong>Item</strong> to <strong>Response</strong> object</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Response.final">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">final</span></code><a class="headerlink" href="#appsync_router.Response.final" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing the value attribute of all <strong>Items</strong> in <strong>Response</strong></p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Response.path">
<code class="sig-name descname"><span class="pre">path</span></code><a class="headerlink" href="#appsync_router.Response.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The path that triggered this Response</p>
</dd></dl>

<dl class="py attribute">
<dt id="appsync_router.Response.results">
<code class="sig-name descname"><span class="pre">results</span></code><a class="headerlink" href="#appsync_router.Response.results" title="Permalink to this definition">¶</a></dt>
<dd><p>A list of Item</p>
</dd></dl>

<dl class="py method">
<dt id="appsync_router.Response.values">
<em class="property"><span class="pre">property</span> </em><code class="sig-name descname"><span class="pre">values</span></code><a class="headerlink" href="#appsync_router.Response.values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list containing the value attribute of all <strong>Items</strong> in <strong>Response</strong></p>
</dd></dl>

</dd></dl>

</div>
</div>
<div class="section" id="module-appsync_router.exceptions">
<span id="exceptions"></span><h1>Exceptions<a class="headerlink" href="#module-appsync_router.exceptions" title="Permalink to this headline">¶</a></h1>
<dl class="py exception">
<dt id="appsync_router.exceptions.AppsyncRouterException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.exceptions.</span></code><code class="sig-name descname"><span class="pre">AppsyncRouterException</span></code><a class="headerlink" href="#appsync_router.exceptions.AppsyncRouterException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="appsync_router.exceptions.MultipleRoutesFoundExcepion">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.exceptions.</span></code><code class="sig-name descname"><span class="pre">MultipleRoutesFoundExcepion</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.exceptions.MultipleRoutesFoundExcepion" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="appsync_router.exceptions.NoRouteFoundException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.exceptions.</span></code><code class="sig-name descname"><span class="pre">NoRouteFoundException</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.exceptions.NoRouteFoundException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py exception">
<dt id="appsync_router.exceptions.RouteAlreadyExistsException">
<em class="property"><span class="pre">exception</span> </em><code class="sig-prename descclassname"><span class="pre">appsync_router.exceptions.</span></code><code class="sig-name descname"><span class="pre">RouteAlreadyExistsException</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#appsync_router.exceptions.RouteAlreadyExistsException" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</div>


           </div>
           
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Mathew Moon &lt;mmoon@quinovas.com&gt;.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>